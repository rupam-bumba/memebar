{"ast":null,"code":"var _jsxFileName = \"/home/rupambumba/Documents/memebar/client/src/components/users/Login.js\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\"; // import Input from \"@material-ui/core/Input\";\n// import FilledInput from \"@material-ui/core/FilledInput\";\n\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\"; // import FormHelperText from \"@material-ui/core/FormHelperText\";\n\nimport FormControl from \"@material-ui/core/FormControl\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport axios from \"axios\"; // contex from src >> contex\n\nimport { UserDataContex } from \"../../context/UserDataContex\"; // styleing component \n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  margin: {\n    margin: theme.spacing(1)\n  },\n  withoutLabel: {\n    marginTop: theme.spacing(3)\n  },\n  textField: {\n    width: 200\n  }\n})); //main\n\nexport default function Login() {\n  const classes = useStyles();\n  const [UserData, setUserData] = useContext(UserDataContex);\n  const [logintrigger, setlogintrigger] = useState(false);\n  const [values, setValues] = useState({\n    email: \"\",\n    password: \"\",\n    showPassword: false\n  }); // seting values\n\n  const handleChange = prop => event => {\n    setValues({ ...values,\n      [prop]: event.target.value\n    });\n    console.log(JSON.stringify(values));\n  }; // password EYE show hide\n\n\n  const handleClickShowPassword = () => {\n    setValues({ ...values,\n      showPassword: !values.showPassword\n    });\n  }; //password key press\n\n\n  const handleMouseDownPassword = event => {\n    event.preventDefault();\n  }; //form handel on submit\n\n\n  const handleFormSubmit = evnt => {\n    evnt.preventDefault();\n    console.log(\"login effect subnit form call >> \");\n    setlogintrigger(!logintrigger);\n    console.log(logintrigger);\n  }; // faching token values value \n\n\n  useEffect(() => {\n    axios.post(\"http://localhost:5000/api/user/login\", {\n      email: values.email,\n      password: values.password\n    }).then(result => {\n      console.log(\"location: axios >> user >> login >> \");\n      console.log(result.data);\n      console.log(result.data.token);\n      setUserData(prive => {\n        prive.token = result.data.token; // TODO: add user info with user id\n      });\n      console.log('contex api userData updated >>>> ' + JSON.stringify(UserData)); // TODO: redirect to profile page or home page\n\n      React.createElement(Redirect, {\n        to: this.state.redirect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      });\n    }).catch(err => {\n      console.log(\"location: axios >> user >> error >> \");\n      console.log(err);\n    });\n  }, [logintrigger]); // front end viwe \n\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"Log in\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleFormSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(FormControl // email\n  , {\n    fullWidth: true,\n    className: (clsx(classes.margin, classes.textField), classes.margin),\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    id: \"outlined-search\",\n    label: \"Email\",\n    type: \"search\",\n    variant: \"outlined\",\n    onChange: handleChange(\"email\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  })), React.createElement(FormControl // Password\n  , {\n    fullWidth: true,\n    className: (clsx(classes.margin, classes.textField), classes.margin),\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    htmlFor: \"outlined-adornment-password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, \"Password\"), React.createElement(OutlinedInput, {\n    id: \"outlined-adornment-password\",\n    type: values.showPassword ? \"text\" : \"password\",\n    value: values.password,\n    onChange: handleChange(\"password\"),\n    endAdornment: React.createElement(InputAdornment, {\n      position: \"end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      \"aria-label\": \"toggle password visibility\",\n      onClick: handleClickShowPassword,\n      onMouseDown: handleMouseDownPassword,\n      edge: \"end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, values.showPassword ? React.createElement(Visibility, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }) : React.createElement(VisibilityOff, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }))),\n    labelWidth: 70,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  })), React.createElement(FormControl // Login  Button\n  , {\n    className: classes.margin,\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"large\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, \"LogIn\")))));\n}","map":{"version":3,"sources":["/home/rupambumba/Documents/memebar/client/src/components/users/Login.js"],"names":["React","useEffect","useState","useContext","Redirect","clsx","makeStyles","IconButton","Button","OutlinedInput","InputLabel","InputAdornment","FormControl","TextField","Visibility","VisibilityOff","axios","UserDataContex","useStyles","theme","root","display","flexWrap","margin","spacing","withoutLabel","marginTop","textField","width","Login","classes","UserData","setUserData","logintrigger","setlogintrigger","values","setValues","email","password","showPassword","handleChange","prop","event","target","value","console","log","JSON","stringify","handleClickShowPassword","handleMouseDownPassword","preventDefault","handleFormSubmit","evnt","post","then","result","data","token","prive","state","redirect","catch","err"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\n// import Input from \"@material-ui/core/Input\";\n// import FilledInput from \"@material-ui/core/FilledInput\";\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n// import FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport axios from \"axios\";\n\n// contex from src >> contex\nimport { UserDataContex } from \"../../context/UserDataContex\";\n\n// styleing component \nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  margin: {\n    margin: theme.spacing(1)\n  },\n  withoutLabel: {\n    marginTop: theme.spacing(3)\n  },\n  textField: {\n    width: 200\n  }\n}));\n\n//main\nexport default function Login() {\n  const classes = useStyles();\n  const [UserData, setUserData] = useContext(UserDataContex);\n  const [logintrigger, setlogintrigger] = useState(false);\n  const [values, setValues] = useState({\n    email: \"\",\n    password: \"\",\n    showPassword: false\n  });\n\n  // seting values\n  const handleChange = prop => event => {\n    setValues({ ...values, [prop]: event.target.value });\n    console.log(JSON.stringify(values));\n  };\n// password EYE show hide\n  const handleClickShowPassword = () => {\n    setValues({ ...values, showPassword: !values.showPassword });\n  };\n//password key press\n  const handleMouseDownPassword = event => {\n    event.preventDefault();\n  };\n//form handel on submit\n  const handleFormSubmit = evnt => {\n    evnt.preventDefault();\n    console.log(\"login effect subnit form call >> \");\n    setlogintrigger(!logintrigger);\n    console.log(logintrigger);\n  };\n\n  // faching token values value \n  useEffect(() => {\n    axios\n      .post(\"http://localhost:5000/api/user/login\", {\n        email: values.email,\n        password: values.password\n      })\n      .then(result => {\n        console.log(\"location: axios >> user >> login >> \");\n        console.log(result.data);\n        console.log(result.data.token);\n        \n        setUserData(prive => {\n          prive.token = result.data.token\n          // TODO: add user info with user id\n        })\n        console.log('contex api userData updated >>>> '+JSON.stringify(UserData));\n        // TODO: redirect to profile page or home page\n        <Redirect to={this.state.redirect} />\n\n\n      })\n      .catch(err => {\n        console.log(\"location: axios >> user >> error >> \");\n        console.log(err);\n      });\n  }, [logintrigger]);\n\n\n\n  // front end viwe \n  return (\n    <div className={classes.root}>\n      <h2>Log in</h2>\n\n      <div>\n        <form onSubmit={handleFormSubmit}>\n          <FormControl // email\n            fullWidth\n            className={\n              (clsx(classes.margin, classes.textField), classes.margin)\n            }\n            variant=\"outlined\"\n          >\n            <TextField\n              id=\"outlined-search\"\n              label=\"Email\"\n              type=\"search\"\n              variant=\"outlined\"\n              onChange={handleChange(\"email\")}\n            />\n          </FormControl>\n\n          <FormControl // Password\n            fullWidth\n            className={\n              (clsx(classes.margin, classes.textField), classes.margin)\n            }\n            variant=\"outlined\"\n          >\n            <InputLabel htmlFor=\"outlined-adornment-password\">\n              Password\n            </InputLabel>\n            <OutlinedInput\n              id=\"outlined-adornment-password\"\n              type={values.showPassword ? \"text\" : \"password\"}\n              value={values.password}\n              onChange={handleChange(\"password\")}\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    aria-label=\"toggle password visibility\"\n                    onClick={handleClickShowPassword}\n                    onMouseDown={handleMouseDownPassword}\n                    edge=\"end\"\n                  >\n                    {values.showPassword ? <Visibility /> : <VisibilityOff />}\n                  </IconButton>\n                </InputAdornment>\n              }\n              labelWidth={70}\n            />\n          </FormControl>\n \n          <FormControl // Login  Button\n            className={classes.margin}\n            variant=\"outlined\"\n          >\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              type=\"submit\"\n            >\n              LogIn\n            </Button>\n          </FormControl>\n        </form>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}